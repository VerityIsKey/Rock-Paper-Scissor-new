<script>
    // dispraportionately chooses rock
    function getComputerChoice() {
        let randomNumber = Math.floor(Math.random() * 100) + 1;

        if(randomNumber <= 33){
            return "paper"
        }
        else if(randomNumber > 66){
            return "rock"
        }
        else {
            return "scissors"
        }


    }
    //draw isnt stopping function
    function playRound(playerSelection, computerSelection) {
        let result = "Program is not working"
        let lcPlayerSelection = playerSelection.toLowerCase()
       
       
        if(lcPlayerSelection == computerSelection){
            console.log("Its a draw")
            result = "draw";
            return result;
        }

        if(lcPlayerSelection == "rock"){
            if(computerSelection == "paper"){
                console.log("Computer wins, paper covers rock.")
                result = "computer";       
            }else{
                console.log("Player wins, rock beats scissors.")
                result = "player";
            }
        }
        if(lcPlayerSelection == "scissors"){
            if(computerSelection == "rock"){
                console.log("Computer wins, rock beats scissors.")
                result = "computer";      
            }else{
                console.log("Player wins, scissor cuts paper.")
                result = "player";
            }
        }
        if(lcPlayerSelection == "paper"){
            if(computerSelection == "scissors"){
                console.log("Computer wins, scissors cuts paper.")
                result = "computer";      
            }else{
                console.log("Player wins, paper covers rock.") 
                result = "player";
            }
        }


        return result;
    }

    function game(playerSelection, computerSelection){
        let computerWins = 0;
        let playerWins = 0;
        let result = "is not working"

        for(let i = 0; i < 5; i++){
            computerSelection = getComputerChoice()
            playerSelection = prompt("Enter rock, paper, or scissors");
            switch(playRound(playerSelection, computerSelection)){
                case "draw":    
                    break;
                case "player":
                    playerWins = playerWins + 1
                    break;
                case "computer":
                    computerWins = computerWins + 1
                    break;
            } 
                    
        }


        if(computerWins > playerWins){
            result = "Computer wins!"
        }else if(playerWins > computerWins){
            result = "Player wins!"
        }else{
            result = "Draw!"
        }

        return result
    }
 
    const playerSelection = " ";
    const computerSelection = getComputerChoice();
    console.log(game(playerSelection, computerSelection));


</script>